<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
    <link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet" />
    <link href="styles/main.css" rel="stylesheet" />

    <script src="cordova.js"></script>
    <script src="kendo/js/jquery.min.js"></script>
    <script src="kendo/js/kendo.mobile.min.js"></script>
    <script src="scripts/everlive.all.min.js"></script>
    <script src="scripts/require.js" data-main="scripts/app"></script>
</head>
<body>
    <!--Home-->
    <div id="tabstrip-home"
        data-role="view"
        data-title="Home"
        data-layout="plain-layout"
        data-model="app.viewModels.home">

        <div class="view-content">
            <h1>GameKeeper</h1>
            <a data-role="button" href="#record-game">Record Game</a>
            <img data-bind="gravatar: gravatarEmail" data-gravatar-size="64" />
            <!--<p>
                <img data-bind="attr: { src: testGravatarUrl }" />
                Icenium&trade; enables you to build cross-platform device applications regardless of your
                    development platform by combining the convenience of a local development toolset with the
                    power and flexibility of the cloud.
            </p>-->
        </div>
    </div>

    <!--Record Game-->
    <div id="record-game"
         data-role="view"
         data-title="Record Game Result"
         data-model="app.viewModels.recordGame">
        <div class="view-content">
            <ul data-role="listview">
                <li>
                    <a data-role="button" data-click="app.viewModels.recordGame.onChooseEventTapped" data-bind="invisible: hasSelectedEvent">Choose Event</a>
                    <a data-role="button" data-click="app.viewModels.recordGame.onChooseEventTapped" data-bind="visible: hasSelectedEvent"><span data-bind="text: selectedEventTitle"></span></a>
                </li>
                <li>
                    <a data-role="button" data-click="app.viewModels.recordGame.onChooseGameTapped" data-bind="invisible: hasSelectedGame">Choose Game</a>
                    <a data-role="button" data-click="app.viewModels.recordGame.onChooseGameTapped" data-bind="visible: hasSelectedGame"><span data-bind="text: selectedGameTitle"></span></a>
                </li>
            </ul>
        </div>
    </div>

    <!--Choose Event-->
    <div id="choose-event"
         data-role="view"
         data-title="Choose Event"
         data-model="app.viewModels.chooseEvent">
        <div class="view-content">
            <div data-role="listview"
                 data-bind="source: dataSource"
                 data-template="choose-event-list-item-template"
                 data-filterable="{ field: 'title', ignoreCase: true, operator: 'contains' }"
                 data-click="app.viewModels.chooseEvent.onItemSelected"></div>
        </div>
        <div data-role="footer">
            <div data-role="navbar">
                <a href="#create-event">Create Event</a>
            </div>
        </div>
    </div>

    <!--Create Event-->
    <div id="create-event"
         data-role="view"
         data-title="Create Event"
         data-model="app.viewModels.createEvent">
        <div class="view-content">
            <form action="#" method="post" id="create-event-form">
                <ul data-role="listview">
                    <li>
                        <label>
                            Title
                            <input type="text" data-bind="value: title" required data-required-msg="Event title is required." />
                        </label>
                    </li>
                    <li>
                        <label>
                            Location
                            <input type="text" data-bind="value: location" />
                        </label>
                    </li>
                    <li class="current-location">
                        <button class="km-button" data-bind="click: onUseCurrentLocationTapped">Use Current Location</button>
                    </li>
                    <li>
                        <label>
                            Date
                            <input type="date" data-bind="value: date" />
                        </label>
                    </li>
                    <li class="button-row">
                        <button type="submit" class="km-button" data-bind="click: onSaveTapped">Save</button>
                    </li>
                </ul>
            </form>
        </div>
    </div>

    <!--Choose Game-->
    <div id="choose-game"
         data-role="view"
         data-title="Choose Game"
         data-model="app.viewModels.chooseGame">
        <div class="view-content">
            <div data-role="listview"
                 data-bind="source: dataSource"
                 data-template="choose-game-list-item-template"
                 data-filterable="{ field: 'title', ignoreCase: true, operator: 'contains' }"
                 data-click="app.viewModels.chooseGame.onItemSelected"></div>
        </div>
        <div data-role="footer">
            <div data-role="navbar">
                <a href="#create-game">Create Game</a>
            </div>
        </div>
    </div>

    <!--Create Game-->
    <div id="create-game"
         data-role="view"
         data-title="Create Game"
         data-model="app.viewModels.createGame">
        <div class="view-content">
            <form action="#" method="post" id="create-game-form">
                <ul data-role="listview">
                    <li>
                        <label>
                            Title
                            <input type="text" data-bind="value: title" required data-required-msg="Game title is required." />
                        </label>
                    </li>
                    <li class="button-row">
                        <button type="submit" class="km-button" data-bind="click: onSaveTapped">Save</button>
                    </li>
                </ul>
            </form>
        </div>
    </div>

    <!--Layout-->
    <div data-role="layout" data-id="plain-layout">

    </div>

    <div data-role="layout" data-id="default-layout">

        <!--Header-->
        <div data-role="header">
            <div data-role="navbar">
                <a class="nav-button" data-align="left" data-role="backbutton"></a>
                <span data-role="view-title"></span>
            </div>
        </div>

        <!--Footer-->
        <!--<div data-role="footer">
            <div data-role="tabstrip">
                <a href="#tabstrip-home" data-icon="home">Home</a>
                <a href="#tabstrip-login" data-icon="contacts">Login</a>
                <a href="#tabstrip-location" data-icon="search">Location</a>
                <a href="#tabstrip-weather" data-icon="globe">Weather</a>
            </div>
        </div>-->
    </div>

    <!--Templates-->
    <script id="choose-event-list-item-template" type="text/x-kendo-template">
        #: title #
    </script>

    <script id="choose-game-list-item-template" type="text/x-kendo-template">
        #: title #
    </script>
</body>
</html>
