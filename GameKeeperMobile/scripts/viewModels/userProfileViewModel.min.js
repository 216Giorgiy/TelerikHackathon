define(["azure-client","datasources"],function(n){"use strict";var t=kendo.observable({id:kendo.guid(),name:"Joe Bag O'Donuts",email:"jeff.fritz@telerik.com",createdAt:new Date(2013,10,6),recentMatches:14,recentWins:3,topGames:new kendo.data.DataSource({data:[{name:"Chess",wins:10},{name:"Checkers",wins:8},{name:"Backgammon",wins:6},{name:"Dominoes",wins:4},{name:"Settlers of Catan",wins:3}]}),winLoss:[{name:"Wins",count:20},{name:"Losses",count:10}],formattedCreateDate:function(){return kendo.toString(t.createdAt,"MMM d, yyyy")},frequentOpp:"Mary Contrary",frequentOppWins:10,frequentOppLosses:8,winOpp:"Jeff Fritz",winOppWins:13,winOppLosses:3,lossOpp:"Phil Japikse",lossOppWins:4,lossOppLosses:8,onBeforeShow:function(i){var r=5,u=n.getTable("player"),f=n.getTable("matchwinner"),e=n.getTable("matchloser"),o;f.where({PlayerID:r}).read().done(function(n){e.where({PlayerID:r}).read().done(function(r){t.set("recentWins",n.length);t.set("recentMatches",n.length+r.length);t.set("winLoss",[{name:"Wins",count:n.length},{name:"Losses",count:r.length}]);$(i.view).fadeIn()})});o=n.invokeApi("preferredgamesforplayer",{method:"get",parameters:{playerid:r}}).then(function(n){t.set("topGames",new kendo.data.DataSource({data:JSON.parse(n.response)}))});u.lookup(r).done(function(n){t.set("name",n.Name);t.set("email",n.EmailAddress);t.set("createdAt",n.CreatedDate)})}});return t});
//# sourceMappingURL=userProfileViewModel.min.js.map